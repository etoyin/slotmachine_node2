<%- include ('partials/header.ejs') %>
<div class="p-4 overflow-x-auto sm:ml-64">
    <div class="p-4 mb-5 bg-gray-200">
        <p class="text-xl font-bold text-center text-gray-600 sm:texl-3xl">User Data</p>
    </div>
    <table id="user_data" class="min-w-full bg-white border border-gray-200">
        <thead>
            <tr class="w-full text-sm leading-normal text-gray-600 uppercase bg-gray-200">
                <th class="px-6 py-3 text-left">ID</th>
                <th class="px-6 py-3 text-left">Email</th>
                <th class="px-6 py-3 text-left">Verification Status</th>
                <th class="px-6 py-3 text-left">Daily Email Clicks</th>
                <th class="px-6 py-3 text-left">Verification Email Clicks</th>
                <th class="px-6 py-3 text-left">Spin Count</th>
                <th class="px-6 py-3 text-left">Campaign Data</th>
            </tr>
        </thead>
        <tbody class="text-sm font-light text-gray-600">
            
            <% data.forEach(user => { %>
                <tr class="border-b border-gray-200 hover:bg-gray-100">
                    <td class="px-6 py-3"><%= user.id %></td>
                    <td class="px-6 py-3"><%= user.email %></td>
                    <td class="px-6 py-3">
                        <% if (user.verified) { %>
                              <button class="btn btn-success">Verified</button>
                          <% } else { %>
                            <button class="btn btn-warning">Not Verified</button>
                          <% } %>
                    </td>
                    <td class="px-6 py-3"><%= user.daily_email_clicks.length ? user.daily_email_clicks.length : '0' %></td>
                    <td class="px-6 py-3"><%= user.email_verification_clicks.length ? user.email_verification_clicks.length : '0' %></td>
                    <td class="px-6 py-3"><%= user.spins_numbers.length ? user.spins_numbers.length : '0' %></td>
                    <td class="px-6 py-3"><%= user.campaign_data.length ? user.campaign_data.length : '0' %></td>
                    
                </tr>
            <% }); %>
            
            <!-- Add more rows as needed -->
        </tbody>
    </table>

    <div class="flex gap-3 mt-5">
        <button class="p-2 text-sm font-semibold text-white uppercase bg-blue-600" onclick="exportToCSV()">Export to CSV</button>
    </div>
</div>
<%- include ('partials/footer.ejs') %>